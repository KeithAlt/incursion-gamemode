local a=CasinoKit.class("HoldEm","CardGame")a.states={idle=CasinoKit.class("HoldemPregameState"),preFlop=CasinoKit.class("HoldemPreFlopState"),preFlopBets=CasinoKit.class("HoldemPreFlopBetState"),flop=CasinoKit.class("HoldemFlopState"),flopBets=CasinoKit.class("HoldemFlopBetState"),turn=CasinoKit.class("HoldemTurnState"),turnBets=CasinoKit.class("HoldemTurnBetState"),river=CasinoKit.class("HoldemRiverState"),riverBets=CasinoKit.class("HoldemRiverBetState"),gameover=CasinoKit.class("GameOverState"),showdown=CasinoKit.class("HoldemShowdownState")}a.initialState="idle"function a:getAnte()local b=self:getTableEntity()return IsValid(b)and b:GetAnte()or 5 end;function a:getSmallBet()local b=self:getTableEntity()return IsValid(b)and b:GetSmallBet()or 5 end;function a:getBigBet()return self:getSmallBet()*2 end;function a:getTimeoutDelay()local b=self:getTableEntity()return IsValid(b)and b:GetTimeoutDelay()or-1 end;function a:canGmodPlayerSitIn(c,d)if not self:getPlayerByEnt(c)and not c:CKit_CanAffordChips(self:getAnte())then return false,"#cantaffordante (ante: "..self:getAnte().." #chips)"end;return a.super.canGmodPlayerSitIn(self,c,d)end;function a:persistTableSettings(e)a.super.persistTableSettings(self,e)e.ante=self:getAnte()e.smallbet=self:getSmallBet()e.timeoutdelay=self:getTimeoutDelay()end;local f=CasinoKit.class("HoldEmPlayer","CardGamePlayer")f:prop("roundBet")f:prop("goneAllIn")function f:hasBetThisRound()return self:getRoundBet()~=-1 end;function f:getBet()local g=self:getRoundBet()return g==-1 and 0 or g end;function f:setBet(h)self:setRoundBet(h)end;function f:resetBet()self:setRoundBet(-1)end